<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SV1657-modernisatie (vergelijking)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: 'Inter', sans-serif;
      }
      sup {
        line-height: 0;
        position: relative;
        vertical-align: baseline;
        top: -0.5em;
        font-size: 0.75em;
        padding: 0 0.1em;
        color: #f97316;
      }
      .font-bold sup {
        font-weight: 600;
      }

      /* table cells stay top-aligned */
      .verse-row td:nth-child(2),
      .verse-row td:nth-child(3) {
        vertical-align: top;
      }

      .verse-main-text p {
        font-family: 'Lora, serif';
        line-height: 1.6;
      }

      .verse-references-block {
        font-family: 'Lora, serif';
      }

      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Lora:ital,wght@0,400;0,700;1,400&display=swap');
    </style>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useCallback, useMemo, useEffect, useRef } = React;

        /* ================= Icons ================= */

        const ThumbUpIcon = ({ className }) => (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className={className}
            viewBox="0 0 20 20"
            fill="currentColor"
            aria-hidden="true"
          >
            <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.563 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.821 2.311l-1.077 1.542A4 4 0 006 10.333z" />
          </svg>
        );

        const ThumbDownIcon = ({ className }) => (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className={className}
            viewBox="0 0 20 20"
            fill="currentColor"
            aria-hidden="true"
          >
            <path d="M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.106-1.79l-.05-.025A4 4 0 0011.057 2H5.642a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.437 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.821-2.311l1.077-1.542A4 4 0 0014 9.667z" />
          </svg>
        );

        const InfoIcon = ({ className }) => (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            className={className}
            viewBox="0 0 24 24"
            fill="currentColor"
            aria-hidden="true"
          >
            <circle cx="12" cy="12" r="10" />
            <line x1="12" y1="16" x2="12" y2="12" stroke="white" strokeWidth="2" strokeLinecap="round" />
            <circle cx="12" cy="8" r="1" fill="white" />
          </svg>
        );

        /* ================= Header ================= */

        const Header = ({ fileName, onDownload, hasRatings, onLoadNew }) => {
          return (
            <header className="bg-white/80 backdrop-blur-sm sticky top-0 z-10 w-full border-b border-gray-200">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div className="flex items-center justify-between h-16">
                  <div className="flex items-center">
                    <h1 className="text-xl font-bold text-sky-600">
                      SV1657-modernisatie (vergelijking)
                    </h1>
                    {fileName && (
                      <span className="ml-4 text-sm font-medium text-gray-600 bg-gray-200 px-3 py-1 rounded-full">{fileName}</span>
                    )}
                  </div>
                  <div className="flex items-center space-x-4">
                    {fileName && (
                      <button
                        onClick={onLoadNew}
                        className="px-4 py-2 text-sm font-medium text-gray-800 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-gray-400"
                      >
                        Nieuw Bestand
                      </button>
                    )}
                    <button
                      onClick={onDownload}
                      disabled={!hasRatings}
                      className="px-4 py-2 text-sm font-medium text-white bg-sky-600 rounded-md hover:bg-sky-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-sky-500"
                    >
                      Beoordelingen Downloaden
                    </button>
                    <a
                      href="https://wmotte.github.io/sv1657_pilot/index.html"
                      target="_blank"
                      rel="noopener noreferrer"
                      className="p-2 text-sky-600 hover:text-sky-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 rounded-md"
                      aria-label="Informatie"
                      title="Meer informatie"
                    >
                      <InfoIcon className="w-6 h-6" />
                    </a>
                  </div>
                </div>
              </div>
            </header>
          );
        };

        /* ================= File Selector ================= */

        const FileSelector = ({ onFileUpload, setFileName }) => {
          const availableFiles = [
            { value: '', label: 'Selecteer een bestand...' },
            { value: 'ROM.13.json', label: 'Romeinen 13' },
            { value: 'RUT.1.json', label: 'Ruth 1' },
            { value: 'MRK.16.json', label: 'Marcus 16' }
          ];

          const handleSelectChange = useCallback(async (event) => {
            const selectedFile = event.target.value;
            if (!selectedFile) return;

            try {
              const response = await fetch(selectedFile);
              if (!response.ok) {
                throw new Error('Bestand kon niet worden geladen');
              }
              const data = await response.json();
              setFileName(selectedFile);
              onFileUpload(data);
            } catch (error) {
              console.error("Fout bij het laden van JSON:", error);
              alert("Fout bij het laden van het bestand.");
            }
          }, [onFileUpload, setFileName]);

          return (
            <div className="w-full p-6 border-2 border-gray-300 rounded-lg bg-white">
              <label htmlFor="file-select" className="block text-lg font-semibold text-sky-600 mb-3 text-center">
                Selecteer een bestand
              </label>
              <select
                id="file-select"
                onChange={handleSelectChange}
                className="w-full px-4 py-3 text-base border border-gray-300 rounded-md focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition bg-white text-gray-700"
              >
                {availableFiles.map(file => (
                  <option key={file.value} value={file.value}>
                    {file.label}
                  </option>
                ))}
              </select>
            </div>
          );
        };

        /* ================= File Upload ================= */

        const FileUpload = ({ onFileUpload, setFileName }) => {
          const handleFileChange = useCallback((event) => {
            const file = event.target.files?.[0];
            if (file) {
              setFileName(file.name);
              const reader = new FileReader();
              reader.onload = (e) => {
                try {
                  const content = e.target?.result;
                  if (typeof content === 'string') {
                    const data = JSON.parse(content);
                    onFileUpload(data);
                  }
                } catch (error) {
                  console.error("Fout bij het parsen van JSON:", error);
                  alert("Ongeldig JSON-bestand.");
                }
              };
              reader.readAsText(file);
            }
          }, [onFileUpload, setFileName]);

          return (
            <div className="w-full flex justify-center p-8 border-2 border-dashed border-gray-300 rounded-lg bg-white hover:bg-gray-50 transition-colors">
              <label htmlFor="file-upload" className="cursor-pointer flex flex-col items-center text-center">
                <svg xmlns="http://www.w3.org/2000/svg" className="w-12 h-12 text-gray-400 mb-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                </svg>
                <span className="text-lg font-semibold text-sky-600">Kies een bestand</span>
                <span className="mt-1 text-sm text-gray-500">of sleep het hierheen</span>
                <span className="mt-1 text-xs text-gray-400">JSON-formaat vereist</span>
              </label>
              <input
                id="file-upload"
                type="file"
                accept=".json"
                className="hidden"
                onChange={handleFileChange}
              />
            </div>
          );
        };

        /* ================= Helpers ================= */

        // Turn $...$ and <...> markers into <sup>1</sup> etc. and collect notes
        const parseTextWithMarkers = (text) => {
            if (!text) return { textWithMarkers: '', references: [], annotations: [] };

            let counter = 0;
            const references = [];
            const annotations = [];

            // $...$   -> reference
            // <...>   -> annotation
            const regex = /(\$(.*?)\$)|(<(.*?)>)/g;

            let lastIndex = 0;
            const parts = [];

            let match;
            while ((match = regex.exec(text)) !== null) {
              parts.push(text.substring(lastIndex, match.index));

              counter++;
              const refContent = match[2];
              const noteContent = match[4];

              if (refContent !== undefined) {
                references.push({ id: counter, content: refContent.trim() });
              } else if (noteContent !== undefined) {
                const processedNote = noteContent.trim().replace(/\$(.*?)\$/g, '«$1»');
                annotations.push({ id: counter, content: processedNote });
              }

              parts.push(`<sup>${counter}</sup>`);

              lastIndex = regex.lastIndex;
            }

            parts.push(text.substring(lastIndex));

            const textWithMarkers = parts.join('');

            return { textWithMarkers, references, annotations };
        };

        /* ================= TextContent =================
           mainRef: ref to the main verse text block
           offsetTopPx: how much to push the Kanttekeningen block down
        =================================================*/
        const TextContent = ({
          textWithMarkers,
          references,
          annotations,
          className,
          mainRef,
          offsetTopPx
        }) => {

          const hasNotesOrRefs = references.length > 0 || annotations.length > 0;
          const hasBoth = references.length > 0 && annotations.length > 0;

          const combinedItems = hasBoth
            ? [...references, ...annotations].sort((a, b) => a.id - b.id)
            : null;

          return (
            <div>
              {/* main text */}
              <div className="verse-main-text" ref={mainRef}>
                <p
                  className={className}
                  dangerouslySetInnerHTML={{ __html: textWithMarkers }}
                />
              </div>

              {/* kanttekeningen / verwijzingen */}
              {hasNotesOrRefs && (
                <div
                  className="verse-references-block"
                  style={{
                    marginTop: (offsetTopPx ?? 0) + 16, // 16px == 1rem gap
                  }}
                >
                  {hasBoth ? (
                    <div>
                      <p className="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2 text-center">
                        Verwijzingen &amp; Kanttekeningen
                      </p>
                      <div className="space-y-1">
                        {combinedItems.map(item => (
                          <div
                            key={item.id}
                            className="flex items-start text-sm text-gray-600 italic"
                          >
                            <span
                              className="w-5 flex-shrink-0 text-left not-italic"
                              style={{ color: '#f97316' }}
                            >
                              {item.id}
                            </span>
                            <span>{item.content}</span>
                          </div>
                        ))}
                      </div>
                    </div>
                  ) : (
                    <div className="flex flex-row gap-8">
                      {references.length > 0 && (
                        <div className="flex-1 min-w-0">
                          <p className="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2 text-center">
                            Verwijzingen
                          </p>
                          <div className="space-y-1">
                            {references.map(ref => (
                              <div
                                key={ref.id}
                                className="flex items-start text-sm text-gray-600 italic"
                              >
                                <span
                                  className="w-5 flex-shrink-0 text-left not-italic"
                                  style={{ color: '#f97316' }}
                                >
                                  {ref.id}
                                </span>
                                <span>{ref.content}</span>
                              </div>
                            ))}
                          </div>
                        </div>
                      )}
                      {annotations.length > 0 && (
                        <div className="flex-1 min-w-0">
                          <p className="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2 text-center">
                            Kanttekeningen
                          </p>
                          <div className="space-y-1">
                            {annotations.map(note => (
                              <div
                                key={note.id}
                                className="flex items-start text-sm text-gray-600 italic"
                              >
                                <span
                                  className="w-5 flex-shrink-0 text-left not-italic"
                                  style={{ color: '#f97316' }}
                                >
                                  {note.id}
                                </span>
                                <span>{note.content}</span>
                              </div>
                            ))}
                          </div>
                        </div>
                      )}
                    </div>
                  )}
                </div>
              )}
            </div>
          );
        };

        /* ================= VerseDisplay =================
           For each verse row:
           - measure both main text blocks
           - compute max height
           - push the references block in the *shorter* column down
        =================================================*/
        const VerseDisplay = ({ verse, ratingData, onRate }) => {
          const original = useMemo(() => parseTextWithMarkers(verse.original_text), [verse.original_text]);
          const final = useMemo(() => parseTextWithMarkers(verse.final_text), [verse.final_text]);

          const originalMainRef = useRef(null);
          const finalMainRef = useRef(null);

          const [offsets, setOffsets] = useState({ left: 0, right: 0 });

          useEffect(() => {
            const syncOffsets = () => {
              const hLeft = originalMainRef.current ? originalMainRef.current.offsetHeight : 0;
              const hRight = finalMainRef.current ? finalMainRef.current.offsetHeight : 0;
              const maxH = Math.max(hLeft, hRight);

              setOffsets({
                left: maxH - hLeft,
                right: maxH - hRight,
              });
            };

            // run now and whenever the window is resized (reflow might change line breaks)
            syncOffsets();
            window.addEventListener('resize', syncOffsets);
            return () => {
              window.removeEventListener('resize', syncOffsets);
            };
          }, []);

          const handleRating = (newRating) => {
            const currentRating = ratingData?.rating;
            onRate(
              verse.verse_number,
              currentRating === newRating ? null : newRating,
              ratingData?.comment || ''
            );
          };

          const handleCommentChange = (e) => {
            onRate(
              verse.verse_number,
              ratingData?.rating || null,
              e.target.value
            );
          };

          return (
            <tr className="verse-row hover:bg-gray-50 transition-colors align-top">
              {/* verse number */}
              <td className="px-4 py-4 align-top text-left">
                <span className="text-2xl font-bold text-sky-600 font-sans">
                  {verse.verse_number}
                </span>
              </td>

              {/* left column (Statenvertaling 1657) */}
              <td className="px-4 py-4 align-top">
                <TextContent
                  textWithMarkers={original.textWithMarkers}
                  references={original.references}
                  annotations={original.annotations}
                  className="text-gray-700"
                  mainRef={originalMainRef}
                  offsetTopPx={offsets.left}
                />
              </td>

              {/* right column (Hedendaagse Vertaling) */}
              <td className="px-4 py-4 align-top">
                <TextContent
                  textWithMarkers={final.textWithMarkers}
                  references={final.references}
                  annotations={final.annotations}
                  className="text-gray-900 font-bold"
                  mainRef={finalMainRef}
                  offsetTopPx={offsets.right}
                />
              </td>

              {/* source text + rating */}
              <td className="px-4 py-4 align-top">
                <p
                  className="text-sm text-gray-400"
                  style={{ fontFamily: 'Lora, serif' }}
                >
                  {verse.source_text}
                </p>
                <div className="flex flex-col gap-2 mt-4">
                  <div className="flex items-center space-x-2">
                    <button
                      onClick={() => handleRating('up')}
                      className={`p-2 rounded-full transition-colors duration-200 ${
                        ratingData?.rating === 'up'
                          ? 'bg-green-500 text-white'
                          : 'bg-gray-200 text-gray-500 hover:bg-green-100'
                      }`}
                      aria-label="Geef een goede beoordeling"
                    >
                      <ThumbUpIcon className="w-5 h-5" />
                    </button>
                    <button
                      onClick={() => handleRating('down')}
                      className={`p-2 rounded-full transition-colors duration-200 ${
                        ratingData?.rating === 'down'
                          ? 'bg-red-500 text-white'
                          : 'bg-gray-200 text-gray-500 hover:bg-red-100'
                      }`}
                      aria-label="Geef een slechte beoordeling"
                    >
                      <ThumbDownIcon className="w-5 h-5" />
                    </button>
                  </div>
                  <textarea
                    value={ratingData?.comment || ''}
                    onChange={handleCommentChange}
                    placeholder="Voeg een opmerking toe..."
                    className="w-full bg-white border border-gray-300 rounded-md p-2 text-sm text-gray-800 placeholder-gray-400 focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition"
                    rows={2}
                  />
                </div>
              </td>
            </tr>
          );
        };

        /* ================= Main App ================= */

        const App = () => {
          const [bibleData, setBibleData] = useState(null);
          const [ratings, setRatings] = useState({});
          const [fileName, setFileName] = useState(null);

          const handleFileUpload = useCallback((data) => {
            if (data && data.metadata && data.verses) {
              setBibleData(data);
              setRatings({});
            } else {
              alert("Het geüploade bestand heeft niet de verwachte structuur.");
            }
          }, []);

          const handleLoadNew = useCallback(() => {
            if (
              Object.keys(ratings).length > 0 &&
              Object.values(ratings).some(r => r.rating || r.comment)
            ) {
              if (!confirm("Je hebt beoordelingen die niet zijn opgeslagen. Weet je zeker dat je een nieuw bestand wilt laden?")) {
                return;
              }
            }
            setBibleData(null);
            setRatings({});
            setFileName(null);
          }, [ratings]);

          const handleRate = useCallback((verseNumber, rating, comment) => {
            setRatings(prevRatings => ({
              ...prevRatings,
              [verseNumber]: { rating, comment },
            }));
          }, []);

          const handleDownload = useCallback(() => {
            if (!bibleData || Object.keys(ratings).length === 0) {
              alert("Geen beoordelingen om te downloaden.");
              return;
            }

            const ratingsToDownload = Object.entries(ratings)
              .filter(([, value]) => value.rating || value.comment)
              .reduce((obj, [key, value]) => {
                obj[Number(key)] = value;
                return obj;
              }, {});

            if (Object.keys(ratingsToDownload).length === 0) {
              alert("Geen beoordelingen of opmerkingen ingevuld om te downloaden.");
              return;
            }

            const downloadData = {
              metadata: {
                book: bibleData.metadata.book,
                chapter: bibleData.metadata.chapter,
                rated_at: new Date().toISOString(),
              },
              ratings: ratingsToDownload,
            };

            const jsonString = JSON.stringify(downloadData, null, 2);
            const blob = new Blob([jsonString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${bibleData.metadata.book_code}_${bibleData.metadata.chapter}_beoordelingen.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
          }, [bibleData, ratings]);

          const hasRatings = Object.values(ratings).some(
            r => r.rating !== null || r.comment !== ''
          );

          return (
            <div className="min-h-screen bg-gray-100">
              <Header
                fileName={fileName}
                onDownload={handleDownload}
                hasRatings={hasRatings}
                onLoadNew={handleLoadNew}
              />
              <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                {!bibleData ? (
                  <div className="text-center">
                    <h2 className="text-3xl font-extrabold text-gray-900 sm:text-4xl mb-4">
                      Welkom
                    </h2>
                    <p className="mt-4 text-lg text-gray-600 mb-8">
                      Selecteer een bestand uit de lijst of upload een JSON-bestand om de vertalingen te vergelijken en te beoordelen.
                    </p>
                    <div className="grid md:grid-cols-2 gap-6">
                      <FileSelector
                        onFileUpload={handleFileUpload}
                        setFileName={setFileName}
                      />
                      <FileUpload
                        onFileUpload={handleFileUpload}
                        setFileName={setFileName}
                      />
                    </div>
                  </div>
                ) : (
                  <div>
                    <div className="mb-8 p-6 bg-white border border-gray-200 rounded-lg">
                      <div className="text-center">
                        <h2 className="text-4xl font-bold text-gray-900">
                          {bibleData.metadata.book} {bibleData.metadata.chapter}
                        </h2>
                        <p className="mt-2 text-md text-gray-500">
                          {bibleData.metadata.translation_policy}
                        </p>
                      </div>

                      {(bibleData.introduction.original ||
                        bibleData.introduction.final) && (
                        <div className="mt-6 pt-6 border-t border-gray-200">
                          <h3 className="text-center text-lg font-semibold text-gray-700 mb-4">
                            Inleiding
                          </h3>
                          <div className="grid md:grid-cols-2 gap-x-8">
                            <div>
                              <h4 className="text-xs font-medium text-gray-500 uppercase tracking-wider mb-2">
                                Statenvertaling 1657
                              </h4>
                              <p
                                className="text-base text-gray-700 italic"
                                style={{
                                  fontFamily: 'Lora, serif',
                                  lineHeight: 1.6,
                                }}
                              >
                                {bibleData.introduction.original}
                              </p>
                            </div>
                            <div>
                              <h4 className="text-xs font-medium text-gray-500 uppercase tracking-wider mb-2">
                                Hedendaagse Vertaling
                              </h4>
                              <p
                                className="text-base font-bold text-gray-900 italic"
                                style={{
                                  fontFamily: 'Lora, serif',
                                  lineHeight: 1.6,
                                }}
                              >
                                {bibleData.introduction.final}
                              </p>
                            </div>
                          </div>
                        </div>
                      )}
                    </div>

                    <div className="bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden">
                      <div className="overflow-x-auto">
                        <table className="min-w-full">
                          <thead className="bg-gray-50">
                            <tr>
                              <th
                                scope="col"
                                className="w-16 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                              >
                                Vers
                              </th>
                              <th
                                scope="col"
                                className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                              >
                                Statenvertaling 1657
                              </th>
                              <th
                                scope="col"
                                className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                              >
                                Hedendaagse Vertaling
                              </th>
                              <th
                                scope="col"
                                className="w-64 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                              >
                                Brontekst ({bibleData.metadata.source_language})
                              </th>
                            </tr>
                          </thead>
                          <tbody className="divide-y divide-gray-200">
                            {bibleData.verses.map((verse) => (
                              <VerseDisplay
                                key={verse.verse_number}
                                verse={verse}
                                ratingData={ratings[verse.verse_number]}
                                onRate={handleRate}
                              />
                            ))}
                          </tbody>
                        </table>
                      </div>
                    </div>

                    {(bibleData.epilogue.original ||
                      bibleData.epilogue.final) && (
                      <div className="mt-8 p-6 bg-white border border-gray-200 rounded-lg">
                        <h3 className="text-center text-lg font-semibold text-gray-700 mb-4">
                          Nawoord
                        </h3>
                        <div className="grid md:grid-cols-2 gap-x-8">
                          <div>
                            <h4 className="text-xs font-medium text-gray-500 uppercase tracking-wider mb-2">
                              Statenvertaling 1657
                            </h4>
                            <p
                              className="text-base text-gray-700 italic"
                              style={{
                                fontFamily: 'Lora, serif',
                                lineHeight: 1.6,
                              }}
                            >
                              {bibleData.epilogue.original}
                            </p>
                          </div>
                          <div>
                            <h4 className="text-xs font-medium text-gray-500 uppercase tracking-wider mb-2">
                              Hedendaagse Vertaling
                            </h4>
                            <p
                              className="text-base font-bold text-gray-900 italic"
                              style={{
                                fontFamily: 'Lora, serif',
                                lineHeight: 1.6,
                              }}
                            >
                              {bibleData.epilogue.final}
                            </p>
                          </div>
                        </div>
                      </div>
                    )}
                  </div>
                )}
              </main>
            </div>
          );
        };

        /* ================= Render ================= */

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

